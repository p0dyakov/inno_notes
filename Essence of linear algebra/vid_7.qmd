---
title: "7. Inverse Matrices, Column Space, Rank, Null Space"
author: "Zakhar Podyakov"
date: "September 18, 2025"
format: html
engine: knitr
---

{{< video https://www.youtube.com/watch?v=uQhTuRlWMxw&list=PLZHQObOWTQDPD3MizzM2xVFitgF8hE_ab&index=8 >}}

<!-- [QUIZ]() | [FLASHCARDS]() -->

#### **1. Summary**

##### **1.1 Linear Systems as Transformations**
The central idea is to understand concepts like inverse matrices, column space, and null space not just as computational rules but as geometric phenomena related to **linear transformations**. A linear transformation is a way of moving or changing space, such as rotating, shearing, or scaling, where grid lines remain parallel and evenly spaced.

##### **1.2 Systems of Linear Equations**
Linear algebra is exceptionally useful for solving systems of linear equations. A **linear system of equations** is a set of equations where the variables are only multiplied by constants and added together.

*   **Allowed:** $2x + 5y + 3z = -3$
*   **Not Allowed:** $x^2$, $\sin(x)$, $xy$

These systems can be rewritten in the compact matrix form $A\vec{x} = \vec{v}$.

<!-- DIAGRAM HERE -->

*   **$A$** is the **coefficient matrix**, containing all the constant coefficients of the variables.
*   **$\vec{x}$** is a vector containing all the unknown variables.
*   **$\vec{v}$** is a constant vector, representing the right-hand side of the equations.

##### **1.3 The Geometric Interpretation of $A\vec{x} = \vec{v}$**
Viewing the matrix **$A$** as a transformation of space, solving the equation $A\vec{x} = \vec{v}$ means we are looking for a vector **$\vec{x}$** which, after being transformed by **$A$**, lands on the vector **$\vec{v}$**.

The nature of the solution depends heavily on whether the transformation **$A$** squishes all of space into a lower dimension (like a plane into a line) or not. This is determined by the determinant of **$A$**.

###### **1.3.1 Case 1: `det(A) â‰  0` (Full Rank)**
When the determinant of matrix **$A$** is non-zero, the transformation does not reduce the dimensionality of the space (e.g., a 2D plane remains a 2D plane, a 3D space remains a 3D space).

*   **Unique Solution**: In this case, there is always one and only one vector **$\vec{x}$** that lands on **$\vec{v}$**.
*   **Inverse Transformation**: To find this unique **$\vec{x}$**, we can apply the "reverse" or **inverse transformation**, denoted as **$A^{-1}$**. Applying the inverse transformation to **$\vec{v}$** gives us the solution: $\vec{x} = A^{-1}\vec{v}$.
*   **Identity**: Applying a transformation **$A$** and then immediately applying its inverse **$A^{-1}$** is equivalent to doing nothing. This "do-nothing" transformation is called the **identity transformation**. The matrix product $A^{-1}A$ results in the **identity matrix**.

###### **1.3.2 Case 2: `det(A) = 0` (Reduced Rank)**
When the determinant of **$A$** is zero, the transformation squishes space into a lower dimension.

*   **No Inverse**: There is no inverse transformation. You cannot "un-squish" a line to recreate a full plane, because each point on the line corresponds to a whole line of input vectors. A function can't map one input to many outputs.
*   **Possibility of Solutions**: A solution may still exist, but only if the vector **$\vec{v}$** lies within the lower-dimensional output space (the line or plane that all vectors are squished onto). If **$\vec{v}$** is outside this space, no solution exists. If it is inside, there are infinitely many solutions.

##### **1.4 Rank, Column Space, and Null Space**

###### **1.4.1 Rank**
The **rank** of a transformation (or its matrix) is the number of dimensions in its output.

*   A 2D transformation that keeps space as a 2D plane is **rank 2**.
*   A 2D transformation that squishes space onto a line is **rank 1**.
*   A 3D transformation that squishes space onto a plane is **rank 2**.
*   A 3D transformation that squishes space onto a line is **rank 1**.
*   When the rank is as high as it can be (equal to the number of columns), the matrix is said to be of **full rank**.

###### **1.4.2 Column Space**
The set of all possible outputs of a transformation is called its **column space**. For a matrix $A$ and any vector $\vec{v}$, the output $A\vec{v}$ is always in the column space.

*   The column space is the *span of the columns* of the matrix. The columns of the matrix are simply the vectors where the basis vectors land after the transformation.
*   The rank of a matrix is more formally defined as the number of dimensions of its column space.

<!-- DIAGRAM HERE -->

###### **1.4.3 Null Space or Kernel**
The set of all vectors that land on the origin (the zero vector) after a transformation is called the **null space** or **kernel** of that transformation.

*   For a full-rank transformation, only the origin itself lands on the origin. The null space consists only of the zero vector.
*   For a lower-rank transformation, a whole line or plane of vectors gets squished onto the origin. This line or plane is the null space.

#### **2. Definitions**
*   **Linear System**: A set of equations where variables are only scaled by constants and added.
*   **Inverse Matrix ($A^{-1}$)**: A matrix that represents the unique transformation which, when applied after the transformation represented by matrix $A$, results in the identity transformation (i.e., it undoes the action of $A$). An inverse only exists if the determinant of $A$ is non-zero.
*   **Column Space**: The set of all possible output vectors of a matrix transformation. It is equivalent to the span of the columns of the matrix.
*   **Rank**: The number of dimensions in the column space of a matrix.
*   **Full Rank**: A matrix has full rank if its rank is equal to the number of columns. This indicates that the basis vectors remain linearly independent after the transformation.
*   **Null Space (or Kernel)**: The set of all input vectors that are mapped to the zero vector by a transformation.
*   **Identity Matrix ($I$)**: A square matrix with ones on the main diagonal and zeros elsewhere. It represents the "do-nothing" transformation that leaves every vector unchanged.

#### **3. Formulas**
*   **Matrix Equation for a Linear System**:
    $$ A\vec{x} = \vec{v} $$
*   **Solution using the Inverse Matrix**:
    $$ \vec{x} = A^{-1}\vec{v} $$
*   **Identity Property**:
    $$ A^{-1}A = I $$

#### **4. Mistakes**
*   **Assuming every square matrix has an inverse.** Only matrices with a non-zero determinant have an inverse. If `det(A) = 0`, the transformation squishes space into a lower dimension and cannot be perfectly reversed.
*   **Believing that `det(A) = 0` means no solution exists.** A solution can exist if the output vector $\vec{v}$ lies on the line or plane that the transformation squishes space into (i.e., if $\vec{v}$ is in the column space of $A$). In this case, there will be infinite solutions.
*   **Confusing Rank with the matrix dimensions.** The rank refers to the dimensions of the *output* space (the column space), which can be smaller than the dimensions of the matrix if `det(A) = 0`.
*   **Confusing the Null Space with the origin.** The null space is a *set* of vectors. For full-rank matrices, this set contains only the zero vector, but for others, it can be an entire line or plane passing through the origin.

#### **5. Examples**
##### **5.1. Determining Rank from Columns**
**Question:** A 2x2 matrix $A$ transforms the basis vectors $\hat{i}$ and $\hat{j}$ to $\begin{pmatrix} 2 \\ 1 \end{pmatrix}$ and $\begin{pmatrix} -4 \\ -2 \end{pmatrix}$ respectively. What is the rank of matrix $A$?
<details>
<summary>Click to see the solution</summary>

1.  **Identify the columns:** The columns of the matrix are the transformed basis vectors: $\text{col}_1 = \begin{pmatrix} 2 \\ 1 \end{pmatrix}$ and $\text{col}_2 = \begin{pmatrix} -4 \\ -2 \end{pmatrix}$.
2.  **Determine the column space:** The column space is the span of these two vectors.
3.  **Check for linear dependence:** Notice that $\begin{pmatrix} -4 \\ -2 \end{pmatrix} = -2 \times \begin{pmatrix} 2 \\ 1 \end{pmatrix}$. The two column vectors are collinear (linearly dependent).
4.  **Find the dimension of the column space:** Since both columns lie on the same line through the origin, their span is just that line. A line is a one-dimensional space.
<!-- DIAGRAM HERE -->

**Answer:** The rank of matrix $A$ is **1**.
</details>

##### **5.2. Unique Solution with Inverse**
**Question:** Given the system of equations:
$2x + 1y = 4$
$1x + 3y = 7$
The inverse of the coefficient matrix $A = \begin{pmatrix} 2 & 1 \\ 1 & 3 \end{pmatrix}$ is $A^{-1} = \frac{1}{5}\begin{pmatrix} 3 & -1 \\ -1 & 2 \end{pmatrix}$. Find the solution vector $\vec{x}$.
<details>
<summary>Click to see the solution</summary>

1.  **Set up the equation $\vec{x} = A^{-1}\vec{v}$**: The vector $\vec{v}$ is $\begin{pmatrix} 4 \\ 7 \end{pmatrix}$.
    $$ \vec{x} = \frac{1}{5}\begin{pmatrix} 3 & -1 \\ -1 & 2 \end{pmatrix} \begin{pmatrix} 4 \\ 7 \end{pmatrix} $$
2.  **Perform matrix-vector multiplication:**
    $$ \vec{x} = \frac{1}{5}\begin{pmatrix} (3)(4) + (-1)(7) \\ (-1)(4) + (2)(7) \end{pmatrix} = \frac{1}{5}\begin{pmatrix} 12 - 7 \\ -4 + 14 \end{pmatrix} = \frac{1}{5}\begin{pmatrix} 5 \\ 10 \end{pmatrix} $$
3.  **Apply the scalar multiplication:**
    $$ \vec{x} = \begin{pmatrix} 1 \\ 2 \end{pmatrix} $$
**Answer:** The unique solution is $x=1, y=2$, or $\vec{x} = \begin{pmatrix} 1 \\ 2 \end{pmatrix}$.
</details>

##### **5.3. Null Space**
**Question:** The transformation matrix $A = \begin{pmatrix} 1 & 2 \\ 2 & 4 \end{pmatrix}$ squishes 2D space onto the line $y=2x$. What is the null space of this transformation?
<details>
<summary>Click to see the solution</summary>

1.  **Set up the equation $A\vec{x} = \vec{0}$**: We are looking for all vectors $\vec{x} = \begin{pmatrix} x \\ y \end{pmatrix}$ that land on the origin $\begin{pmatrix} 0 \\ 0 \end{pmatrix}$.
    $$ \begin{pmatrix} 1 & 2 \\ 2 & 4 \end{pmatrix} \begin{pmatrix} x \\ y \end{pmatrix} = \begin{pmatrix} 0 \\ 0 \end{pmatrix} $$
2.  **Write as a system of equations:**
    $1x + 2y = 0$
    $2x + 4y = 0$
3.  **Solve the system:** Notice that the second equation is just twice the first. Both equations simplify to $x = -2y$. This is the equation of a line.
<!-- DIAGRAM HERE -->

**Answer:** The null space is the line **$x = -2y$**, which is the set of all vectors of the form $c \begin{pmatrix} -2 \\ 1 \end{pmatrix}$ for any scalar $c$.
</details>

##### **5.4. No Solution Case**
**Question:** Using the matrix $A = \begin{pmatrix} 1 & 2 \\ 2 & 4 \end{pmatrix}$ from the previous example, explain why there is no solution to the equation $A\vec{x} = \begin{pmatrix} 3 \\ 1 \end{pmatrix}$.
<details>
<summary>Click to see the solution</summary>

1.  **Identify the column space:** The transformation $A$ squishes all of 2D space onto a single line, which is the span of its columns $\begin{pmatrix} 1 \\ 2 \end{pmatrix}$ and $\begin{pmatrix} 2 \\ 4 \end{pmatrix}$. This span is the line $y=2x$.
2.  **Check if $\vec{v}$ is in the column space:** The target vector is $\vec{v} = \begin{pmatrix} 3 \\ 1 \end{pmatrix}$. For this vector, $y=1$ and $x=3$. Since $1 \neq 2(3)$, the vector $\vec{v}$ is not on the line $y=2x$.
3.  **Conclusion:** Because the transformation's entire output (its column space) is the line $y=2x$, it is impossible for any input vector $\vec{x}$ to be transformed into an output vector that is not on that line.
<!-- DIAGRAM HERE -->

**Answer:** No solution exists because the vector $\begin{pmatrix} 3 \\ 1 \end{pmatrix}$ is not in the column space of matrix $A$.
</details>

##### **5.5. Infinite Solutions Case**
**Question:** Using the matrix $A = \begin{pmatrix} 1 & 2 \\ 2 & 4 \end{pmatrix}$ again, describe the set of solutions to $A\vec{x} = \begin{pmatrix} 3 \\ 6 \end{pmatrix}$.
<details>
<summary>Click to see the solution</summary>

1.  **Check if $\vec{v}$ is in the column space:** The target vector is $\vec{v} = \begin{pmatrix} 3 \\ 6 \end{pmatrix}$. Here, $y=6$ and $x=3$. Since $6 = 2(3)$, the vector $\vec{v}$ lies on the line $y=2x$, which is the column space of $A$. Therefore, solutions exist.
2.  **Find one particular solution:** We need to find *one* vector $\vec{x}$ that solves the equation. By inspection, we can see that if $\vec{x} = \begin{pmatrix} 1 \\ 1 \end{pmatrix}$, then $A\vec{x} = \begin{pmatrix} 1(1) + 2(1) \\ 2(1) + 4(1) \end{pmatrix} = \begin{pmatrix} 3 \\ 6 \end{pmatrix}$. So, $\vec{x}_p = \begin{pmatrix} 1 \\ 1 \end{pmatrix}$ is a solution.
3.  **Add the null space:** The complete set of solutions is found by taking this particular solution and adding any vector from the null space. We found the null space to be all vectors of the form $c \begin{pmatrix} -2 \\ 1 \end{pmatrix}$. This is because any vector in the null space gets mapped to zero, so $A(\vec{x}_p + \vec{x}_n) = A\vec{x}_p + A\vec{x}_n = \vec{v} + \vec{0} = \vec{v}$.
<!-- DIAGRAM HERE -->

**Answer:** The solutions form a line in the input space, given by the set of vectors $\begin{pmatrix} 1 \\ 1 \end{pmatrix} + c \begin{pmatrix} -2 \\ 1 \end{pmatrix}$ for any scalar $c$.
</details>

##### **5.6. Rank of a 3x3 Matrix**
**Question:** What is the rank of the matrix $A = \begin{pmatrix} 1 & 0 & 2 \\ 0 & 1 & 3 \\ 0 & 0 & 0 \end{pmatrix}$?
<details>
<summary>Click to see the solution</summary>

1.  **Identify the columns:** The columns are $\begin{pmatrix} 1 \\ 0 \\ 0 \end{pmatrix}$, $\begin{pmatrix} 0 \\ 1 \\ 0 \end{pmatrix}$, and $\begin{pmatrix} 2 \\ 3 \\ 0 \end{pmatrix}$.
2.  **Analyze the span of the columns:** The first two columns are the standard basis vectors $\hat{i}$ and $\hat{j}$ in 3D space. They span the xy-plane. The third column is a linear combination of the first two: $2\begin{pmatrix} 1 \\ 0 \\ 0 \end{pmatrix} + 3\begin{pmatrix} 0 \\ 1 \\ 0 \end{pmatrix} = \begin{pmatrix} 2 \\ 3 \\ 0 \end{pmatrix}$.
3.  **Determine the dimension of the column space:** Since the third column lies in the plane spanned by the first two, it doesn't add a new dimension. The entire column space is the xy-plane, which is a two-dimensional space.

**Answer:** The rank of the matrix is **2**.
</details>

##### **5.7. Full Rank and Invertibility**
**Question:** A matrix $A$ has a rank equal to its number of columns. What can you say about its determinant and the existence of its inverse?
<details>
<summary>Click to see the solution</summary>

1.  **Interpret "Full Rank":** A matrix with rank equal to its number of columns is a "full rank" matrix. This means that the transformation it represents does not reduce the dimensionality of the space. The columns are linearly independent and span the entire space.
2.  **Relate Rank to Determinant:** A transformation that does not reduce dimensionality has a non-zero determinant. The determinant represents the factor by which area (in 2D) or volume (in 3D) is scaled. If the dimension is not reduced, this factor is not zero.
3.  **Relate Determinant to Inverse:** A matrix has an inverse if and only if its determinant is non-zero.

**Answer:** The determinant of the matrix is **non-zero**, and therefore its **inverse exists**.
</details>