<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Zakhar Podyakov">
<meta name="dcterms.date" content="2025-09-16">

<title>2. Fundamental Ideas of Computer Architecture</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-42ed7287b56c5c583e2c2463c9cf4916.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Computer Architecture/lec_1.html">Computer Architecture</a></li><li class="breadcrumb-item"><a href="../Computer Architecture/lec_2.html">2. Fundamental Ideas of Computer Architecture</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Academic Writing and Argumentation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Effective Sentence Structure, Clauses, and Sentence Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Principles of Effective Academic Writing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Sentence Problems, Punctuation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Writing an Effective Paragraph, Paragraph Structure, Transitions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Avoiding Plagiarism, Referencing, Summarizing, Paraphrasing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Academic Writing and Argumentation/lec_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Descriptive Paragraph</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Analytical Geometry and Linear Algebra I</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Analytical Geometry and Linear Algebra I /lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Vectors, Vector Spaces, and Linear Independence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Analytical Geometry and Linear Algebra I /lec_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Inner Product, Dot Product, Vector Norms, Orthogonality, Vector Projection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Analytical Geometry and Linear Algebra I /lec_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Matrices and Determinants, Vector Cross Product, Scalar Triple Product</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Computer Architecture</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Computer Architecture/lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Computer Architecture Fundamentals, CPU Components, Memory Hierarchy, FPGAs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Computer Architecture/lec_2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2. Fundamental Ideas of Computer Architecture</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Discrete Mathematics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Discrete Mathematics/lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Truth Tables, Disjunctive Normal Form (DNF), Conjunctive Normal Form (CNF)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Discrete Mathematics/lec_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Logical Equivalence, Normal Forms (DNF, CNF, ANF)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction to Programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction to Programming/lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Introduction to Programming, The C Language, Compilation and Memory Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction to Programming/lec_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. C Programming Fundamentals: Memory, Pointers, and Types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Introduction to Programming/lec_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. C Pointers, Declarations, Preprocessing, and File I/O</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Mathematical Analysis I</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Mathematical Analysis I/lec_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Set Theory, Complex Numbers, Mathematical Induction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Mathematical Analysis I/lec_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Complex Numbers in Trigonometric Form, Mathematical Induction</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Computer Architecture/lec_1.html">Computer Architecture</a></li><li class="breadcrumb-item"><a href="../Computer Architecture/lec_2.html">2. Fundamental Ideas of Computer Architecture</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">2. Fundamental Ideas of Computer Architecture</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Zakhar Podyakov </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 16, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="summary" class="level4">
<h4 class="anchored" data-anchor-id="summary">1. Summary</h4>
<section id="hierarchy-of-memories" class="level5">
<h5 class="anchored" data-anchor-id="hierarchy-of-memories">1.1 Hierarchy of Memories</h5>
<p>Computer systems use a variety of memory types, organized into a <strong>hierarchy</strong> based on their performance characteristics. This structure is a trade-off between <em>speed, capacity, and cost</em>. The levels are arranged like a pyramid: the fastest, smallest, and most expensive memory is at the top, closest to the CPU, while the slowest, largest, and cheapest is at the bottom.</p>
<ol type="1">
<li><strong>CPU Registers:</strong> These are the fastest memory units, located directly inside the <strong>CPU</strong> (Central Processing Unit). They hold the data that the CPU is actively manipulating at any given moment. Their capacity is extremely small (measured in bytes).</li>
<li><strong>Cache Memory (L1, L2, L3):</strong> A small, fast layer of memory that sits between the CPU and the main system memory (RAM). It stores copies of frequently used data from RAM. When the CPU needs data, it checks the cache first. If the data is there (a <em>cache hit</em>), it’s retrieved much faster than from RAM. If not (a <em>cache miss</em>), the data is fetched from RAM and also stored in the cache for future use.</li>
<li><strong>System Memory (RAM):</strong> <strong>Random-Access Memory</strong> is the main working memory of the computer. It is much larger than the cache but also significantly slower. It holds the operating system, running applications, and the data they are using. RAM is <em>volatile</em>, meaning its contents are lost when the power is turned off.</li>
<li><strong>Storage Devices (SSD, HDD):</strong> These are used for long-term data storage. They are the largest and slowest level in the hierarchy and are <em>non-volatile</em>, meaning they retain data without power.</li>
</ol>
<p>As data moves from the bottom of the hierarchy to the top, the <em>access speed increases</em> dramatically, but the <em>storage capacity decreases</em>.</p>
</section>
<section id="design-simplification-via-abstraction" class="level5">
<h5 class="anchored" data-anchor-id="design-simplification-via-abstraction">1.2 Design Simplification via Abstraction</h5>
<p><strong>Abstraction</strong> is a core principle used to manage complexity in computer architecture. It involves hiding the complex details of a system and exposing only the essential features. This allows designers and programmers to work with a system at a high level without needing to understand every detail of its low-level implementation.</p>
<p>For example, a programmer views the CPU as a simple black box that executes instructions. This is the highest level of abstraction. A computer architect, however, looks inside this box and sees components like the <strong>Control Unit (CU)</strong>, the <strong>Arithmetic Logic Unit (ALU)</strong>, and <strong>registers</strong>. A hardware engineer might go even deeper, designing the individual logic gates and circuits that make up the ALU. Each layer only needs to understand its own level and the interface to the levels directly above and below it, simplifying the overall design process. As you move from a high-level view to a low-level one, the <em>abstraction level decreases</em>, and the level of detail increases.</p>
</section>
<section id="moores-law-for-cpu-performance" class="level5">
<h5 class="anchored" data-anchor-id="moores-law-for-cpu-performance">1.3 Moore’s Law for CPU Performance</h5>
<p><strong>Moore’s Law</strong> is an observation made by Gordon Moore in 1965, stating that the number of transistors on an integrated circuit (CPU chip) <em>doubles approximately every two years</em>. For decades, this rapid increase in transistor density directly correlated with an exponential increase in CPU performance and execution speed.</p>
<p>However, since around 2008, the rate of increase for single-thread performance and CPU clock speed has stagnated. This is primarily due to two physical limitations: 1. <strong>Heat Dissipation:</strong> Faster clock speeds lead to higher power consumption, which generates more heat. At a certain point, it becomes impossible to cool the chip effectively, causing it to overheat and fail. 2. <strong>The Speed of Light:</strong> As transistors become smaller and closer, the time it takes for electrical signals to travel between them becomes a limiting factor.</p>
<p>Because of this stagnation, the industry shifted its focus from making single cores faster to adding more cores to a single chip. This means that performance gains today are primarily achieved through parallelism, not by increasing the speed of a single CPU core.</p>
</section>
<section id="performance-via-parallelism" class="level5">
<h5 class="anchored" data-anchor-id="performance-via-parallelism">1.4 Performance via Parallelism</h5>
<p><strong>Parallelism</strong> is the concept of executing multiple tasks or instructions <em>simultaneously</em> to improve performance. In contrast to a uniprocessor system that executes one instruction at a time, a <strong>multiprocessor</strong> or <strong>multicore</strong> system contains multiple processing units that can work on different tasks concurrently.</p>
<p>This approach is the primary driver of performance improvement in modern computing. For example, a quad-core processor can theoretically work on four different instructions at the exact same time. However, this introduces new challenges. The main problem is <em>data dependency</em>, where one instruction depends on the result of a previous one. Such instructions cannot be executed in parallel and must wait for the preceding one to complete, which requires complex scheduling and synchronization logic.</p>
</section>
<section id="performance-via-pipelining" class="level5">
<h5 class="anchored" data-anchor-id="performance-via-pipelining">1.5 Performance via Pipelining</h5>
<p><strong>Pipelining</strong> is a technique that increases the <em>throughput</em> of a single CPU, which is the number of instructions it can complete per unit of time. It doesn’t execute multiple instructions simultaneously in the same way parallelism does; instead, it overlaps the execution steps of different instructions.</p>
<p>The execution of a single instruction is broken down into a series of independent stages, such as:</p>
<ol type="1">
<li><strong>IF (Instruction Fetch):</strong> Fetch the instruction from memory.</li>
<li><strong>ID (Instruction Decode):</strong> Decode the instruction to see what it does.</li>
<li><strong>EX (Execute):</strong> Perform the calculation in the ALU.</li>
<li><strong>MEM (Memory Access):</strong> Read or write data from/to memory.</li>
<li><strong>WB (Write Back):</strong> Write the result back to a register.</li>
</ol>
<p>In a non-pipelined CPU, one instruction must complete all five stages before the next one can begin. In a pipelined CPU, a new instruction can start the first stage as soon as the previous instruction has moved to the second stage. This creates an assembly-line effect where multiple instructions are in different stages of execution at the same time within the same CPU core.</p>
<p>The key difference from parallelism is that pipelining overlaps stages of sequential instructions within <em>one processor</em>, while parallelism executes different instructions simultaneously on <em>multiple processors</em>.</p>
</section>
<section id="performance-via-speculation-prediction" class="level5">
<h5 class="anchored" data-anchor-id="performance-via-speculation-prediction">1.6 Performance via Speculation (Prediction)</h5>
<p><strong>Speculative Execution</strong> is an optimization technique where a computer system performs a task before it is known whether the work is actually needed. The goal is to prevent the CPU from sitting idle while waiting for the outcome of a preceding instruction, such as a conditional branch (<code>if-else</code> or <code>switch</code> statement).</p>
<p>The CPU’s <strong>branch predictor</strong> tries to guess which path of execution will be taken. For example, in a <code>switch</code> statement, the processor might predict which <code>case</code> is most likely to be executed. It will then <em>speculatively</em> start executing the instructions for that predicted path.</p>
<ul>
<li>If the prediction was correct, the results are kept, and time has been saved.</li>
<li>If the prediction was wrong, the results of the speculative execution are discarded, and the CPU starts over on the correct path. Although there’s a penalty for a wrong guess, on average, the time saved from correct predictions leads to a significant performance boost.</li>
</ul>
</section>
<section id="dependability-via-redundancy" class="level5">
<h5 class="anchored" data-anchor-id="dependability-via-redundancy">1.7 Dependability via Redundancy</h5>
<p><strong>Redundancy</strong> is the principle of including duplicate or “spare” components in a system to increase its <strong>dependability</strong> and <strong>reliability</strong>. If a primary component fails, a backup component can take over its function, ensuring the system continues to operate without interruption.</p>
<p>This approach is critical in fault-tolerant systems where failure is not an option, such as in spacecraft, aircraft control systems, or critical financial servers. For instance, a spacecraft might be designed with three identical CPUs all performing the same calculations. The results are compared, and if one CPU produces a different result, it is assumed to be faulty and is ignored by the system.</p>
</section>
<section id="make-the-common-case-fast" class="level5">
<h5 class="anchored" data-anchor-id="make-the-common-case-fast">1.8 Make the Common Case Fast</h5>
<p>This is a fundamental design principle that states that to improve overall performance, you should focus your optimization efforts on the parts of the system that are used most frequently. The benefit gained from making a rare operation faster is often negligible, but a small improvement in a very common operation can have a huge impact.</p>
<p>For example, if a program spends 90% of its time executing a particular function, then doubling the speed of that function will nearly double the speed of the entire program. In contrast, doubling the speed of a function that only accounts for 1% of the execution time will have almost no noticeable effect on overall performance. This principle guides architects and programmers on where to invest their time and resources for the greatest return.</p>
</section>
<section id="finite-state-machines-fsm" class="level5">
<h5 class="anchored" data-anchor-id="finite-state-machines-fsm">1.9 Finite State Machines (FSM)</h5>
<p>A <strong>Finite State Machine (FSM)</strong> is a mathematical model of computation used to design and describe the behavior of systems. An FSM consists of a <em>finite</em> number of <strong>states</strong> and a set of <strong>transitions</strong> that define how the system moves from one state to another in response to specific inputs or events.</p>
<p>At any given moment, the system can only be in one state. For example, a vending machine can be modeled as an FSM:</p>
<ul>
<li><strong>States:</strong> <code>Awaiting Client</code>, <code>Requesting Payment</code>, <code>Delivering Product</code>, <code>Returning Money</code>.</li>
<li><strong>Transitions:</strong> A client choosing a product transitions the machine from <code>Awaiting Client</code> to <code>Requesting Payment</code>. A successful payment transitions it to <code>Delivering Product</code>.</li>
</ul>
<p>FSMs are widely used in computer architecture to model the behavior of digital logic circuits, processor control units, and communication protocols.</p>
</section>
</section>
<section id="definitions" class="level4">
<h4 class="anchored" data-anchor-id="definitions">2. Definitions</h4>
<ul>
<li><strong>Computer Architecture:</strong> The set of rules and methods that describe the functionality, organization, and implementation of computer systems. It acts as the blueprint for designing the system.</li>
<li><strong>Hierarchy of Memories:</strong> A tiered structure of computer storage where memory is organized based on access speed, capacity, and cost. Faster tiers are smaller and more expensive.</li>
<li><strong>Cache:</strong> A small, high-speed volatile memory that provides high-speed data access to a processor and stores frequently used computer programs, applications, and data.</li>
<li><strong>CPU Registers:</strong> A small set of data holding places that are part of the computer processor. A register may hold an instruction, a storage address, or any kind of data.</li>
<li><strong>Moore’s Law:</strong> The observation that the number of transistors in an integrated circuit doubles about every two years.</li>
<li><strong>Parallelism:</strong> The simultaneous execution of multiple instructions or tasks on different processors or cores to increase computational speed.</li>
<li><strong>Pipelining:</strong> A technique where multiple instructions are overlapped in execution within a single processor. Each instruction is broken into stages, and different instructions can be in different stages at the same time.</li>
<li><strong>Speculative Execution:</strong> An optimization technique where a processor executes instructions before it is certain they will be needed, based on a prediction of program flow.</li>
<li><strong>Redundancy:</strong> The inclusion of extra components that are not strictly necessary to functioning, in case of failure in other components.</li>
<li><strong>Finite State Machine (FSM):</strong> An abstract model of computation that can be in exactly one of a finite number of states at any given time.</li>
</ul>
</section>
<section id="mistakes" class="level4">
<h4 class="anchored" data-anchor-id="mistakes">3. Mistakes</h4>
<ul>
<li><strong>Confusing Parallelism and Pipelining:</strong> Thinking these are the same concept. <strong>Why it’s wrong:</strong> Parallelism involves using multiple, independent processing units to execute different tasks simultaneously. Pipelining is a technique used within a single processing unit to overlap the stages of sequential instructions. It improves throughput, but does not execute instructions truly simultaneously in the way parallelism does.</li>
<li><strong>Believing Moore’s Law is about CPU speed:</strong> Stating that Moore’s Law dictates that CPU clock speeds double every two years. <strong>Why it’s wrong:</strong> Moore’s Law is specifically about the number of transistors on a chip. While this historically led to faster speeds, the direct correlation has broken down due to heat and power limitations. The law itself is about density, not speed.</li>
<li><strong>Assuming more cores directly translates to proportional speedup:</strong> Thinking that a program will run four times faster on a quad-core CPU than on a single-core CPU. <strong>Why it’s wrong:</strong> This is only true for tasks that are “embarrassingly parallel” (can be perfectly split into independent parts). Most programs have sequential parts and dependencies that cannot be parallelized, limiting the overall speedup (a concept described by Amdahl’s Law).</li>
<li><strong>Ignoring the “Common Case Fast” principle:</strong> Spending significant time optimizing a part of the code that is rarely executed. <strong>Why it’s wrong:</strong> The overall performance gain is a product of how much faster a part is and how often it is used. Optimizing an infrequently used component yields a negligible improvement to the total execution time, making it an inefficient use of development resources.</li>
<li><strong>Treating all memory as equal:</strong> Writing code that accesses memory in random patterns without considering the memory hierarchy. <strong>Why it’s wrong:</strong> Accessing data that is close together in memory (spatial locality) allows the cache to work efficiently, dramatically speeding up execution. Random memory access patterns lead to frequent cache misses, forcing the CPU to wait for the much slower main memory and crippling performance.</li>
</ul>
</section>
<section id="examples" class="level4">
<h4 class="anchored" data-anchor-id="examples">4. Examples</h4>
<section id="example-1-hierarchy-of-memories" class="level5">
<h5 class="anchored" data-anchor-id="example-1-hierarchy-of-memories">Example 1: Hierarchy of Memories</h5>
<p><strong>Question:</strong> A programmer declares an integer variable <code>x = 10</code> inside a function that performs a tight loop of calculations with it. After the program finishes, the result is saved to a file on the hard drive. Where would the value of <code>x</code> most likely reside during each phase: (a) active calculation in the loop, (b) after the program closes, and (c) while the function is running but <code>x</code> is not the immediate operand?</p>
<details>
<summary>
Click to see the solution
</summary>
<ol type="1">
<li><strong>Analyze Phase (a):</strong> During a tight loop of active calculations, the CPU needs the fastest possible access to the variable. This is the primary use case for registers.</li>
<li><strong>Analyze Phase (b):</strong> After the program closes, all volatile memory (registers, cache, RAM) is cleared. The only place the result persists is in non-volatile storage.</li>
<li><strong>Analyze Phase (c):</strong> While the function is running, the variable <code>x</code> is loaded from storage into system RAM. If it’s used frequently, it will be copied to the cache for faster access, even when it’s not the immediate operand being processed by the ALU.</li>
</ol>
<strong>Answer:</strong> (a) In a <strong>CPU Register</strong>. (b) In <strong>Storage</strong> (the hard drive/SSD). (c) In <strong>Cache Memory</strong> or <strong>System Memory (RAM)</strong>.
</details>
</section>
<section id="example-2-parallelism-vs.-pipelining" class="level5">
<h5 class="anchored" data-anchor-id="example-2-parallelism-vs.-pipelining">Example 2: Parallelism vs.&nbsp;Pipelining</h5>
<p><strong>Question:</strong> A fast-food restaurant needs to speed up its order processing. It considers two options: 1. Hire three more cashiers to run three additional checkout counters. Each cashier handles an entire order from start to finish (take order, process payment, get food). 2. Keep one cashier but create an assembly line with three additional workers: one takes the order, the next processes payment, the next bags the food, and the last hands it to the customer.</p>
<p>Which option is an analogy for parallelism, and which is for pipelining? Explain why.</p>
<details>
<summary>
Click to see the solution
</summary>
<ol type="1">
<li><strong>Analyze Option 1:</strong> This option involves multiple independent units (cashiers) performing the same complete task on different inputs (customers) simultaneously. This is the definition of parallelism.</li>
<li><strong>Analyze Option 2:</strong> This option involves breaking a single task (processing one order) into a series of sequential stages. Multiple orders can be in different stages of the process at the same time, increasing the overall throughput of the single checkout counter. This is the definition of pipelining.</li>
</ol>
<strong>Answer:</strong> Option 1 (multiple cashiers) is an analogy for <strong>parallelism</strong>. Option 2 (the assembly line) is an analogy for <strong>pipelining</strong>.
</details>
</section>
<section id="example-3-make-the-common-case-fast" class="level5">
<h5 class="anchored" data-anchor-id="example-3-make-the-common-case-fast">Example 3: Make the Common Case Fast</h5>
<p><strong>Question:</strong> You are profiling a web server application and find that 80% of its execution time is spent on a single database query function, <code>getUserProfile()</code>. The rest of the time is split among 50 other minor functions. You have one week to optimize the application. Should you focus on improving <code>getUserProfile()</code> or on optimizing several of the other minor functions?</p>
<details>
<summary>
Click to see the solution
</summary>
<ol type="1">
<li><strong>Identify the Common Case:</strong> The profiling data clearly shows that the <code>getUserProfile()</code> function is the “common case” in terms of time consumption, accounting for 80% of the workload.</li>
<li><strong>Apply the Principle:</strong> According to the “Make the Common Case Fast” principle, the largest performance gains will come from optimizing the most frequently executed or most time-consuming part of the system.</li>
<li><strong>Evaluate the Impact:</strong> Even a small 10% improvement in <code>getUserProfile()</code> would reduce the total runtime by 8% (10% of 80%). Achieving a similar 8% total reduction by optimizing the other functions would require a much larger and more difficult optimization effort across many different parts of the code.</li>
</ol>
<strong>Answer:</strong> You should focus exclusively on improving the <strong><code>getUserProfile()</code></strong> function.
</details>
</section>
<section id="example-4-finite-state-machine" class="level5">
<h5 class="anchored" data-anchor-id="example-4-finite-state-machine">Example 4: Finite State Machine</h5>
<p><strong>Question:</strong> Design a simple FSM for a pedestrian crosswalk button. The system has two states: <code>Red Light</code> (cars can go) and <code>Green Light</code> (pedestrians can cross). The system has two inputs: a <code>button_press</code> event and a <code>timer_expires</code> event. Describe the states and the transitions between them.</p>
<details>
<summary>
Click to see the solution
</summary>
<ol type="1">
<li><strong>Define States:</strong> The problem specifies the two states:
<ul>
<li><code>Red Light</code> (Initial State): Traffic light is red for pedestrians.</li>
<li><code>Green Light</code>: Traffic light is green for pedestrians.</li>
</ul></li>
<li><strong>Define Transitions from <code>Red Light</code>:</strong>
<ul>
<li>What happens if the button is pressed? The system should transition to the <code>Green Light</code> state to let the pedestrian cross.</li>
<li>What happens if the timer expires? Nothing, the light stays red for pedestrians until the button is pressed.</li>
</ul></li>
<li><strong>Define Transitions from <code>Green Light</code>:</strong>
<ul>
<li>What happens if the button is pressed? Nothing, the light is already green.</li>
<li>What happens if the timer expires? The pedestrian’s crossing time is over, so the system must transition back to the <code>Red Light</code> state to let cars go.</li>
</ul></li>
</ol>
<strong>Answer:</strong> * <strong>States:</strong> <code>Red Light</code> (initial), <code>Green Light</code>. * <strong>Transitions:</strong> * From <code>Red Light</code>, on <code>button_press</code> -&gt; transition to <code>Green Light</code> and start a timer. * From <code>Green Light</code>, on <code>timer_expires</code> -&gt; transition to <code>Red Light</code>.
</details>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>